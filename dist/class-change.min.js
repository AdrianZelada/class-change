/*!
 * class-change
 * v1.0.3
 * https://github.com/jhildenbiddle/class-change
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.classChange=e()}(this,function(){"use strict";function t(t){return"string"==typeof t&&(t=t.trim().replace(/\s+/g," ").split(" ")),Array.isArray(t)&&(t=(t=t.map(function(t){return t&&t.length?t.trim():null})).filter(Boolean)),t}function e(t){return"string"==typeof t?t=Array.apply(null,document.querySelectorAll(t)):t instanceof window.HTMLCollection||t instanceof window.NodeList?t=Array.apply(null,t):t&&!Array.isArray(t)&&(t=[t]),Array.isArray(t)?t.filter(function(t,e,n){return n.indexOf(t)===e}):[]}function n(t,e){for(var n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector,r=[],a=t.parentNode;a&&a!==document;)(!e||e&&n.call(a,e))&&r.push(a),a=a.parentNode;return r}function r(t,e){return(t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector).call(t,e)}function a(n,r){var a=e(n);return a.forEach(function(e,n){var a=t(r instanceof Function?r(e,n):r);if(a&&a.length){var o=e.className.length?e.className.split(" "):[],c=a.filter(function(t){return-1===o.indexOf(t)}),i=o.concat(c);e.className=i.join(" ")}}),1===a.length?a[0]:a}function o(n,r){var a=e(n);return a.forEach(function(e,n){var a=t(r instanceof Function?r(e,n):r);if(e.className.trim().length&&a&&a.length){var o=e.className.split(" ").filter(function(t){return-1===a.indexOf(t)});o.length?e.className=o.join(" "):e.removeAttribute("class")}}),1===a.length?a[0]:a}var c={add:a,remove:o};function i(n,r,a){if(!0===a)return c.add(n,r);if(!1===a)return c.remove(n,r);var o=e(n);return o.forEach(function(e,n){var a=t(r instanceof Function?r(e,n):r);if(a&&a.length){var o=e.className.length?e.className.split(" "):[],c=o.filter(function(t){return-1===a.indexOf(t)}),i=a.filter(function(t){return-1===o.indexOf(t)}),l=c.concat(i);e.className=l.join(" ")}}),1===o.length?o[0]:o}var l={add:a,remove:o,toggle:i};function s(t){var a=["add","remove","toggle"];[t.target].concat(n(t.target)).forEach(function(t){if(r(t,"[data-class-add],[data-class-remove],[data-class-toggle]")){var o={};a.forEach(function(a){var c=t.getAttribute("data-class-"+a);if(c&&c.length){var i=t.getAttribute("data-class-"+a+"-closest")||t.getAttribute("data-class-closest"),l=t.getAttribute("data-class-"+a+"-parents")||t.getAttribute("data-class-parents"),s=t.getAttribute("data-class-"+a+"-siblings")||t.getAttribute("data-class-siblings"),f=t.getAttribute("data-class-"+a+"-target")||t.getAttribute("data-class-target"),u=[];if(i){var d=function(t,e){for(var n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector,r=null,a=t;a&&a!==document;){if(n.call(a,e)){r=a;break}a=a.parentNode}return r}(t,i);u=u.concat(d)}if(l){var g=n(t,l);u=u.concat(g)}if(s)e(t.parentNode.children).forEach(function(e){var n=e!==t,a=r(e,s);n&&a&&u.push(e)});if(f){var m=e(document.querySelectorAll(f));u=u.concat(m)}o[a]={target:u.length?u:t,classNames:c}}}),a.forEach(function(t){o[t]&&l[t](o[t].target,o[t].classNames)})}})}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u={add:a,remove:o,toggle:i};return{add:a,attrs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n="boolean"==typeof t?t:n;var r=e(t="boolean"==typeof t?document:t),a=!1===t||!1===n?"removeEventListener":"addEventListener";return r.forEach(function(t){t[a]("click",s)}),{remove:function(){r.forEach(function(t){t.removeEventListener("click",s)})}}},listener:function(t){var a={target:e(t.target||document.body),event:t.event||"click",match:t.match||!0,change:t.change||!0,add:t.add||null,remove:t.remove||null,toggle:t.toggle||null};function o(t){!function(t,a){var o=a.match instanceof Function?a.match(t):a.match,c=void 0;if(!0===o)o=[t.target],c=t.target;else if("string"==typeof o){var i=r(t.target,o);c=i?t.target:n(t.target).filter(function(t){return r(t,o)})[0]||null,o=e(o)}else if("object"===(void 0===o?"undefined":f(o))){var l=t.target===o;o=e(o),c=l?t.target:o[o.indexOf(t.target)]||n(t.target).filter(function(t){return-1!==o.indexOf(t)})[0]||null}if(c){var s=o.indexOf(c),d=a.change instanceof Function?a.change(t,c,s):a.change;d=!0===d?[t.target]:e(d),["toggle","remove","add"].forEach(function(e){if(a[e]instanceof Function)d.forEach(function(n,r){var o=a[e](t,c,s,n,r);u[e](n,o)});else{var n=a[e];u[e](d,n)}})}}(t,a)}return a.target.forEach(function(t){t.addEventListener(a.event,o)}),{remove:function(){a.target.forEach(function(t){t.removeEventListener(a.event,o)})}}},remove:o,toggle:i}});
//# sourceMappingURL=class-change.min.js.map
