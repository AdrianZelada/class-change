/*!
 * class-change
 * v1.1.2
 * https://jhildenbiddle.github.io/class-change
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function classNamesToArray(e){return"string"==typeof e&&(e=e.trim().replace(/\s+/g," ").split(" ")),Array.isArray(e)&&(e=(e=e.map(function(e){return e&&e.length?e.trim():null})).filter(Boolean)),e}function elementsToArray(e){return"string"==typeof e?e=Array.apply(null,document.querySelectorAll(e)):e instanceof window.HTMLCollection||e instanceof window.NodeList?e=Array.apply(null,e):e&&!Array.isArray(e)&&(e=[e]),Array.isArray(e)?e.filter(function(e,t,a){return a.indexOf(e)===t}):[]}function getClosest(e,t){for(var a=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,n=null,r=e;r&&r!==document;){if(a.call(r,t)){n=r;break}r=r.parentNode}return n}function getParents(e,t){for(var a=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,n=[],r=e.parentNode;r&&r!==document;)(!t||t&&a.call(r,t))&&n.push(r),r=r.parentNode;return n}function matchesSelector(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,t)}function addClass(e,t){var a=elementsToArray(e);return a.forEach(function(e,a){var n=classNamesToArray(t instanceof Function?t(e,a):t);if(n&&n.length){var r=e.className.length?e.className.split(" "):[],o=n.filter(function(e){return-1===r.indexOf(e)}),c=r.concat(o);e.className=c.join(" ")}}),1===a.length?a[0]:a}function removeClass(e,t){var a=elementsToArray(e);return a.forEach(function(e,a){var n=classNamesToArray(t instanceof Function?t(e,a):t);if(e.className.trim().length&&n&&n.length){var r=e.className.split(" ").filter(function(e){return-1===n.indexOf(e)});r.length?e.className=r.join(" "):e.removeAttribute("class")}}),1===a.length?a[0]:a}var classChange={add:addClass,remove:removeClass};function toggleClass(e,t,a){if(!0===a)return classChange.add(e,t);if(!1===a)return classChange.remove(e,t);var n=elementsToArray(e);return n.forEach(function(e,a){var n=classNamesToArray(t instanceof Function?t(e,a):t);if(n&&n.length){var r=e.className.length?e.className.split(" "):[],o=r.filter(function(e){return-1===n.indexOf(e)}),c=n.filter(function(e){return-1===r.indexOf(e)}),s=o.concat(c);e.className=s.join(" ")}}),1===n.length?n[0]:n}var classChange$1={add:addClass,remove:removeClass,toggle:toggleClass};function addRemoveAttrListener(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t="boolean"==typeof e?e:t;var a=elementsToArray(e="boolean"==typeof e?document:e),n=!1===e||!1===t?"removeEventListener":"addEventListener";return a.forEach(function(e){e[n]("click",handleAttrEvent)}),{remove:function(){a.forEach(function(e){e.removeEventListener("click",handleAttrEvent)})}}}function handleAttrEvent(e){var t=[e.target].concat(getParents(e.target)),a=["add","remove","toggle"];t.forEach(function(e){if(matchesSelector(e,"[data-class-add],[data-class-remove],[data-class-toggle]")){var t={};a.forEach(function(a){var n=e.getAttribute("data-class-".concat(a));if(n&&n.length){var r=e.getAttribute("data-class-".concat(a,"-closest"))||e.getAttribute("data-class-closest"),o=e.getAttribute("data-class-".concat(a,"-parents"))||e.getAttribute("data-class-parents"),c=e.getAttribute("data-class-".concat(a,"-siblings"))||e.getAttribute("data-class-siblings"),s=e.getAttribute("data-class-".concat(a,"-target"))||e.getAttribute("data-class-target"),l=[];if(r){var i=getClosest(e,r);l=l.concat(i)}if(o){var f=getParents(e,o);l=l.concat(f)}if(c)elementsToArray(e.parentNode.children).forEach(function(t){var a=t!==e,n=matchesSelector(t,c);a&&n&&l.push(t)});if(s){var u=elementsToArray(document.querySelectorAll(s));l=l.concat(u)}t[a]={target:l.length?l:e,classNames:n}}}),a.forEach(function(e){t[e]&&classChange$1[e](t[e].target,t[e].classNames)})}})}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var classChange$2={add:addClass,remove:removeClass,toggle:toggleClass};function addChangeListener(e){var t={target:elementsToArray(e.target||document.body),event:e.event||"click",match:e.match||!0,change:e.change||!0,add:e.add||null,remove:e.remove||null,toggle:e.toggle||null};function a(e){handleChangeEvent(e,t)}return t.target.forEach(function(e){e.addEventListener(t.event,a)}),{remove:function(){t.target.forEach(function(e){e.removeEventListener(t.event,a)})}}}function handleChangeEvent(e,t){var a,n=t.match instanceof Function?t.match(e):t.match;if(!0===n)n=[e.target],a=e.target;else if("string"==typeof n){var r=matchesSelector(e.target,n);a=r?e.target:getParents(e.target).filter(function(e){return matchesSelector(e,n)})[0]||null,n=elementsToArray(n)}else if("object"===_typeof(n)){var o=e.target===n;n=elementsToArray(n),a=o?e.target:n[n.indexOf(e.target)]||getParents(e.target).filter(function(e){return-1!==n.indexOf(e)})[0]||null}if(a){var c=n.indexOf(a),s=t.change instanceof Function?t.change(e,a,c):t.change;s=!0===s?[e.target]:elementsToArray(s),["toggle","remove","add"].forEach(function(n){if(t[n]instanceof Function)s.forEach(function(r,o){var s=t[n](e,a,c,r,o);classChange$2[n](r,s)});else{var r=t[n];classChange$2[n](s,r)}})}}var index={add:addClass,attrs:addRemoveAttrListener,listener:addChangeListener,remove:removeClass,toggle:toggleClass};export default index;
//# sourceMappingURL=class-change.esm.min.js.map
