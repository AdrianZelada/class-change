/*!
 * class-change
 * v1.1.2
 * https://jhildenbiddle.github.io/class-change
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function classNamesToArray(e){return"string"==typeof e&&(e=e.trim().replace(/\s+/g," ").split(" ")),Array.isArray(e)&&(e=(e=e.map(function(e){return e&&e.length?e.trim():null})).filter(Boolean)),e}function elementsToArray(e){return"string"==typeof e?e=Array.apply(null,document.querySelectorAll(e)):e instanceof window.HTMLCollection||e instanceof window.NodeList?e=Array.apply(null,e):e&&!Array.isArray(e)&&(e=[e]),Array.isArray(e)?e.filter(function(e,t,a){return a.indexOf(e)===t}):[]}function getClosest(e,t){for(var a=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,n=null,r=e;r&&r!==document;){if(a.call(r,t)){n=r;break}r=r.parentNode}return n}function getParents(e,t){for(var a=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,n=[],r=e.parentNode;r&&r!==document;)(!t||t&&a.call(r,t))&&n.push(r),r=r.parentNode;return n}function matchesSelector(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,t)}function addClass(e,t){var a=elementsToArray(e);return a.forEach(function(e,a){var n=classNamesToArray(t instanceof Function?t(e,a):t);if(n&&n.length){var r=e.className.length?e.className.split(" "):[],o=n.filter(function(e){return-1===r.indexOf(e)}),s=r.concat(o);e.className=s.join(" ")}}),1===a.length?a[0]:a}function removeClass(e,t){var a=elementsToArray(e);return a.forEach(function(e,a){var n=classNamesToArray(t instanceof Function?t(e,a):t);if(e.className.trim().length&&n&&n.length){var r=e.className.split(" ").filter(function(e){return-1===n.indexOf(e)});r.length?e.className=r.join(" "):e.removeAttribute("class")}}),1===a.length?a[0]:a}var classChange={add:addClass,remove:removeClass};function toggleClass(e,t,a){if(!0===a)return classChange.add(e,t);if(!1===a)return classChange.remove(e,t);var n=elementsToArray(e);return n.forEach(function(e,a){var n=classNamesToArray(t instanceof Function?t(e,a):t);if(n&&n.length){var r=e.className.length?e.className.split(" "):[],o=r.filter(function(e){return-1===n.indexOf(e)}),s=n.filter(function(e){return-1===r.indexOf(e)}),c=o.concat(s);e.className=c.join(" ")}}),1===n.length?n[0]:n}var classChange$1={add:addClass,remove:removeClass,toggle:toggleClass};function addRemoveAttrListener(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t="boolean"==typeof e?e:t;var a=elementsToArray(e="boolean"==typeof e?document:e),n=!1===e||!1===t?"removeEventListener":"addEventListener";return a.forEach(function(e){e[n]("click",handleAttrEvent)}),{remove:function(){a.forEach(function(e){e.removeEventListener("click",handleAttrEvent)})}}}function handleAttrEvent(e){var t=["add","remove","toggle"];[e.target].concat(getParents(e.target)).forEach(function(e){if(matchesSelector(e,"[data-class-add],[data-class-remove],[data-class-toggle]")){var a={};t.forEach(function(t){var n=e.getAttribute("data-class-"+t);if(n&&n.length){var r=e.getAttribute("data-class-"+t+"-closest")||e.getAttribute("data-class-closest"),o=e.getAttribute("data-class-"+t+"-parents")||e.getAttribute("data-class-parents"),s=e.getAttribute("data-class-"+t+"-siblings")||e.getAttribute("data-class-siblings"),c=e.getAttribute("data-class-"+t+"-target")||e.getAttribute("data-class-target"),l=[];if(r){var i=getClosest(e,r);l=l.concat(i)}if(o){var f=getParents(e,o);l=l.concat(f)}if(s)elementsToArray(e.parentNode.children).forEach(function(t){var a=t!==e,n=matchesSelector(t,s);a&&n&&l.push(t)});if(c){var u=elementsToArray(document.querySelectorAll(c));l=l.concat(u)}a[t]={target:l.length?l:e,classNames:n}}}),t.forEach(function(e){a[e]&&classChange$1[e](a[e].target,a[e].classNames)})}})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classChange$2={add:addClass,remove:removeClass,toggle:toggleClass};function addChangeListener(e){var t={target:elementsToArray(e.target||document.body),event:e.event||"click",match:e.match||!0,change:e.change||!0,add:e.add||null,remove:e.remove||null,toggle:e.toggle||null};function a(e){handleChangeEvent(e,t)}return t.target.forEach(function(e){e.addEventListener(t.event,a)}),{remove:function(){t.target.forEach(function(e){e.removeEventListener(t.event,a)})}}}function handleChangeEvent(e,t){var a=t.match instanceof Function?t.match(e):t.match,n=void 0;if(!0===a)a=[e.target],n=e.target;else if("string"==typeof a){var r=matchesSelector(e.target,a);n=r?e.target:getParents(e.target).filter(function(e){return matchesSelector(e,a)})[0]||null,a=elementsToArray(a)}else if("object"===(void 0===a?"undefined":_typeof(a))){var o=e.target===a;a=elementsToArray(a),n=o?e.target:a[a.indexOf(e.target)]||getParents(e.target).filter(function(e){return-1!==a.indexOf(e)})[0]||null}if(n){var s=a.indexOf(n),c=t.change instanceof Function?t.change(e,n,s):t.change;c=!0===c?[e.target]:elementsToArray(c),["toggle","remove","add"].forEach(function(a){if(t[a]instanceof Function)c.forEach(function(r,o){var c=t[a](e,n,s,r,o);classChange$2[a](r,c)});else{var r=t[a];classChange$2[a](c,r)}})}}var index={add:addClass,attrs:addRemoveAttrListener,listener:addChangeListener,remove:removeClass,toggle:toggleClass};export default index;
//# sourceMappingURL=class-change.esm.min.js.map
